<legend>
	<h3>
		Interactions Editor
	</h3>
</legend>
<div class="well instructions">
	<h3>Instructions
		<button type="button" data-toggle="collapse" 
			data-target="#interactionsinfo" class="btn btn-info btn-mini">
			<!-- Collapse/Expand --><span class="caret"></span>
		</button>
	</h3>
	
	<div id="interactionsinfo" class="collapse">
		<p>
			Edit or add interactions between species. 
		</p>
	</div>
</div>
		
<form>
	<fieldset>
		
			<div class="span3 offset3">
			<h4>Select interaction</h4>
				<select id = "interactions-list" title="Select the type of species interaction">
					<option value= "main" selected>Choose a type of interaction</option>
					<option value="trophic" name="trophic">trophic (1 eats 2)</option>
					<option value="competition" name="competition">competition (1 outcompetes 2)</option>
					<option value="facilitation" name="facilitation">facilitation (1 facilitates 2)</option>
					<option value="parasitic" name="parasitic">parasitic (1 is parasite of 2)</option>
				</select> 
			</div>
		
			<div class="span4 offset1">
				<h4>Node/Stage 1</h4>
					<label>Working Name: </label>
					<%= form_tag do %>
						<%= autocomplete_field_tag 'interaction_working_name1', '',autocomplete_node_working_name_nodes_path,
						:update_elements => {:itis_data => '#stage1_itis_id'}, :title => "Enter the common/working name of node 1" %>
					<% end %>
					
					<label>Latin Name: </label>
					<input type="text" id="interaction_latin_name1">
					<img src="assets/ajax-loader.gif" id="interaction-latin1-loading-indicator" style="display:none" />
					<div hidden = "true" id = "interaction_stage1_field">
						<label id="interaction_itis_working_name1" visible="false">Working Name: </label>
						<label id="interaction_itis_common_name1" visible="false">ITIS Common Name: </label>
						<label id="interaction_itis_latin_name1" visible="false">ITIS Latin Name: </label>
						<label id="interaction_itis_id1" visible="false">ITIS ID: </label>
						
						<select id="interaction_select1">
						</select>
					</div>
			</div>
				
			<div class="span4">
				<h4>Node/Stage 2</h4>
					<label>Working Name: </label>
					<%= form_tag do %>
						<%= autocomplete_field_tag 'interaction_working_name2', '',autocomplete_node_working_name_nodes_path,
						:update_elements => {:itis_id => '#stage2_itis_id'}, :title => "Enter the common/working name of node 2"%>
					<% end %>
						
				<label>Latin Name: </label>
				<input type="text" id="interaction_latin_name2">
				<img src="assets/ajax-loader.gif" id="interaction-latin2-loading-indicator" style="display:none" />
					<div hidden = "true" id = "interaction_stage2_field">
						<label id="interaction_itis_working_name2" visible="false">Working Name: </label>
						<label id="interaction_itis_common_name2" visible="false">ITIS Common Name: </label>
						<label id="interaction_itis_latin_name2" visible="false">ITIS Latin Name: </label>
						<label id="interaction_itis_id2" visible="false">ITIS ID: </label>
						
						<select id="interaction_select2">
						</select>
					</div>			
			</div>
			<div class ="span8" id="interaction_alert_success" hidden ="true">
				<div class="alert alert-success">
				<button type="button" class="close" id="alert_success_close">&times;</button>
				<strong>Success!</strong> Interaction successfully added
				</div>
			</div>
			<div class ="span8" id="interaction_alert_fail" hidden ="true">
				<div class="alert alert-error">
				<button type="button" class="close" id="alert_fail_close">&times;</button>
				<strong>Warning!</strong> Interaction was not successfully added.
				</div>
			</div>
			<div class ="span8" id="observation_alert_success" hidden ="true">
				<div class="alert alert-success">
				<button type="button" class="close" id="alert_success_close">&times;</button>
				<strong>Success!</strong> Observation successfully added
				</div>
			</div>
			<div class ="span8" id="observation_alert_fail" hidden ="true">
				<div class="alert alert-error">
				<button type="button" class="close" id="alert_fail_close">&times;</button>
				<strong>Warning!</strong> Observation was not successfully added
				</div>
			</div>
		<div class="form-actions span5 offset2">
			<button type="button" class="btn btn-inverse" disabled id="interaction_add_observation">
				Add Observation
			</button>
			
			<button type="button" class="btn btn-inverse" disabled id="interaction_add_interaction">
				Add Interaction
			</button>
			
			<button type="reset" class="btn btn-inverse" id="interaction_reset_button">
				Reset
			</button>
		</div> <!-- end form-actions -->
		
	</fieldset>
</form>

<input type="hidden" id="interaction_node_id1" value="">
<input type="hidden" id="interaction_node_id2" value="">

<div id="new_competition_observation" class="modal hide fade">
	<div class="modal-header">
		<button type="button" 
			class="close" data-dismiss="modal" 
			aria-hidden="true">&times;
		</button>
		<h3> New Competition Observation </h3>
	</div>
	<div class="modal-body">
		<%= render :partial => 'competition_observation' %>
	</div>
	<div class="modal-footer">
	</div>
</div>

<div id="new_facilitation_observation" class="modal hide fade">
	<div class="modal-header">
		<button type="button" 
			class="close" data-dismiss="modal" 
			aria-hidden="true">&times;
		</button>
		<h3> New Facilitation Observation </h3>
	</div>
	<div class="modal-body">
		<%= render :partial => 'facilitation_observation' %>
	</div>
	<div class="modal-footer">
	</div>
</div>

<div id="new_parasitic_observation" class="modal hide fade">
	<div class="modal-header">
		<button type="button" 
			class="close" data-dismiss="modal" 
			aria-hidden="true">&times;
		</button>
		<h3> New Parasitic Observation </h3>
	</div>
	<div class="modal-body">
		<%= render :partial => 'parasitic_observation' %>
	</div>
	<div class="modal-footer">
	</div>
</div>

<div id="new_trophic_observation" class="modal hide fade">
	<div class="modal-header">
		<button type="button" 
			class="close" data-dismiss="modal" 
			aria-hidden="true">&times;
		</button>
		<h3> New Trophic Observation </h3>
	</div>
	<div class="modal-body">
		<%= render :partial => 'trophic_observation' %>
	</div>
	<div class="modal-footer">
	</div>
</div>
